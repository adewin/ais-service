buildscript {
    ext {
        scala_compat_version = "2.11"
        scala_version = "$scala_compat_version.12"
        spark_version = "2.4.1"
    }
}

plugins {
    id "scala"
    id "application"
}

group "uk.gov.ukho"
version "0.8-SNAPSHOT"

repositories {
    mavenCentral()
}

application {
    mainClassName = "uk.gov.ukho.ais.rasters.Main"
}

jar {
    manifest {
        attributes "Main-Class": application.mainClassName
    }

    from {
        configurations
                .compileClasspath
                .collect { it.isDirectory() ? it : zipTree(it) }
    }
}

dependencies {
    implementation "org.scala-lang:scala-library:$scala_version"

    runtimeOnly "org.apache.spark:spark-core_$scala_compat_version:$spark_version"
    runtimeOnly "org.apache.spark:spark-sql_$scala_compat_version:$spark_version"
}
